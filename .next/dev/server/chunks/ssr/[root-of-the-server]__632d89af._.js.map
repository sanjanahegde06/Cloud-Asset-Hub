{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/cloud-resource-manager/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iKAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///D:/cloud-resource-manager/components/ProtectedRoute.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { supabase } from '../lib/supabaseClient';\n\nexport default function ProtectedRoute({ children }) {\n  const router = useRouter();\n\n  useEffect(() => {\n    const checkUser = async () => {\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) {\n        router.push('/');\n      }\n    };\n\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((event, session) => {\n      if (!session) {\n        router.push('/');\n      }\n    });\n\n    checkUser();\n    return () => subscription.unsubscribe();\n  }, [router]);\n\n  return <>{children}</>;\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS,eAAe,EAAE,QAAQ,EAAE;IACjD,MAAM,SAAS,IAAA,oIAAS;IAExB,IAAA,gHAAS,EAAC;QACR,MAAM,YAAY;YAChB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0HAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,IAAI,CAAC,SAAS;gBACZ,OAAO,IAAI,CAAC;YACd;QACF;QAEA,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,0HAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO;YACzE,IAAI,CAAC,SAAS;gBACZ,OAAO,IAAI,CAAC;YACd;QACF;QAEA;QACA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG;QAAC;KAAO;IAEX,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///D:/cloud-resource-manager/components/UploadForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { supabase } from '../lib/supabaseClient';\n\nexport default function UploadForm({ onUploadComplete }) {\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleUpload = async (e) => {\n    try {\n      setUploading(true);\n      setError(null);\n\n      const file = e.target.files[0];\n      const { data: { session } } = await supabase.auth.getSession();\n      \n      if (!session?.user) throw new Error('No user logged in');\n\n      const filePath = `${session.user.id}/${file.name}`;\n      const { error } = await supabase.storage\n        .from('uploads')\n        .upload(filePath, file);\n\n      if (error) throw error\n      onUploadComplete()\n    } catch (error) {\n      setError(error.message)\n    } finally {\n      setUploading(false)\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"file\"\n        onChange={handleUpload}\n        disabled={uploading}\n      />\n      {uploading && <p>Uploading...</p>}\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,WAAW,EAAE,gBAAgB,EAAE;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,aAAa;YACb,SAAS;YAET,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAC9B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0HAAQ,CAAC,IAAI,CAAC,UAAU;YAE5D,IAAI,CAAC,SAAS,MAAM,MAAM,IAAI,MAAM;YAEpC,MAAM,WAAW,GAAG,QAAQ,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,EAAE;YAClD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,0HAAQ,CAAC,OAAO,CACrC,IAAI,CAAC,WACL,MAAM,CAAC,UAAU;YAEpB,IAAI,OAAO,MAAM;YACjB;QACF,EAAE,OAAO,OAAO;YACd,SAAS,MAAM,OAAO;QACxB,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,qKAAC;;0BACC,qKAAC;gBACC,MAAK;gBACL,UAAU;gBACV,UAAU;;;;;;YAEX,2BAAa,qKAAC;0BAAE;;;;;;YAChB,uBAAS,qKAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAM;0BAAI;;;;;;;;;;;;AAG7C","debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///D:/cloud-resource-manager/components/FileList.js"],"sourcesContent":["import { useState } from 'react';\nimport { supabase } from '../lib/supabaseClient';\n\nexport default function FileList({ files, onDelete, onRefresh }) {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleDelete = async (fileName) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { data: { session } } = await supabase.auth.getSession()\n      const filePath = `${session.user.id}/${fileName}`\n      \n      const { error } = await supabase.storage\n        .from('uploads')\n        .remove([filePath])\n      \n      if (error) throw error\n      onDelete(fileName)\n    } catch (err) {\n      setError(err.message)\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDownload = async (fileName) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const { data: { session } } = await supabase.auth.getSession()\n      const filePath = `${session.user.id}/${fileName}`\n      \n      const { data, error } = await supabase.storage\n        .from('uploads')\n        .download(filePath)\n\n      if (error) throw error\n\n      // Create download link\n      const url = window.URL.createObjectURL(data)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = fileName\n      a.click()\n      window.URL.revokeObjectURL(url)\n    } catch (err) {\n      setError(err.message)\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!files?.length) {\n    return <p>No files uploaded yet.</p>;\n  }\n\n  return (\n    <div className=\"file-list\">\n      {error && <p className=\"error\">{error}</p>}\n      <ul>\n        {files.map((file) => (\n          <li key={file.name}>\n            <span>{file.name}</span>\n            <div className=\"actions\">\n              <button \n                onClick={() => handleDownload(file.name)}\n                disabled={loading}\n              >\n                Download\n              </button>\n              <button \n                onClick={() => handleDelete(file.name)}\n                disabled={loading}\n                className=\"delete\"\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0HAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,MAAM,WAAW,GAAG,QAAQ,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU;YAEjD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,0HAAQ,CAAC,OAAO,CACrC,IAAI,CAAC,WACL,MAAM,CAAC;gBAAC;aAAS;YAEpB,IAAI,OAAO,MAAM;YACjB,SAAS;QACX,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0HAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,MAAM,WAAW,GAAG,QAAQ,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU;YAEjD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0HAAQ,CAAC,OAAO,CAC3C,IAAI,CAAC,WACL,QAAQ,CAAC;YAEZ,IAAI,OAAO,MAAM;YAEjB,uBAAuB;YACvB,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YACvC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,IAAI,GAAG;YACT,EAAE,QAAQ,GAAG;YACb,EAAE,KAAK;YACP,OAAO,GAAG,CAAC,eAAe,CAAC;QAC7B,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,CAAC,OAAO,QAAQ;QAClB,qBAAO,qKAAC;sBAAE;;;;;;IACZ;IAEA,qBACE,qKAAC;QAAI,WAAU;;YACZ,uBAAS,qKAAC;gBAAE,WAAU;0BAAS;;;;;;0BAChC,qKAAC;0BACE,MAAM,GAAG,CAAC,CAAC,qBACV,qKAAC;;0CACC,qKAAC;0CAAM,KAAK,IAAI;;;;;;0CAChB,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCACC,SAAS,IAAM,eAAe,KAAK,IAAI;wCACvC,UAAU;kDACX;;;;;;kDAGD,qKAAC;wCACC,SAAS,IAAM,aAAa,KAAK,IAAI;wCACrC,UAAU;wCACV,WAAU;kDACX;;;;;;;;;;;;;uBAbI,KAAK,IAAI;;;;;;;;;;;;;;;;AAsB5B","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///D:/cloud-resource-manager/pages/dashboard.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { supabase } from '../lib/supabaseClient';\nimport ProtectedRoute from '../components/ProtectedRoute';\nimport UploadForm from '../components/UploadForm';\nimport FileList from '../components/FileList';\n\nexport default function Dashboard() {\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchFiles = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const { data: { session } } = await supabase.auth.getSession();\n      if (!session) throw new Error('Not authenticated');\n\n      const { data, error } = await supabase\n        .storage\n        .from('uploads')\n        .list(session.user.id);\n\n      if (error) throw error;\n      setFiles(data || []);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchFiles();\n  }, []);\n\n  const handleDelete = (fileName) => {\n    setFiles(files.filter(f => f.name !== fileName));\n  };\n\n  return (\n    <ProtectedRoute>\n      <div className=\"dashboard\">\n        <h1>Cloud Resource Manager</h1>\n        \n        <section className=\"upload-section\">\n          <h2>Upload Files</h2>\n          <UploadForm onUploadComplete={fetchFiles} />\n        </section>\n\n        <section className=\"files-section\">\n          <h2>Your Files</h2>\n          {loading ? (\n            <p>Loading...</p>\n          ) : error ? (\n            <p className=\"error\">{error}</p>\n          ) : (\n            <FileList \n              files={files}\n              onDelete={handleDelete}\n              onRefresh={fetchFiles}\n            />\n          )}\n        </section>\n      </div>\n    </ProtectedRoute>\n  )\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,aAAa;QACjB,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0HAAQ,CAAC,IAAI,CAAC,UAAU;YAC5D,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;YAE9B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0HAAQ,CACnC,OAAO,CACP,IAAI,CAAC,WACL,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YAEvB,IAAI,OAAO,MAAM;YACjB,SAAS,QAAQ,EAAE;QACrB,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,SAAS,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACxC;IAEA,qBACE,qKAAC,gIAAc;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;8BAAG;;;;;;8BAEJ,qKAAC;oBAAQ,WAAU;;sCACjB,qKAAC;sCAAG;;;;;;sCACJ,qKAAC,4HAAU;4BAAC,kBAAkB;;;;;;;;;;;;8BAGhC,qKAAC;oBAAQ,WAAU;;sCACjB,qKAAC;sCAAG;;;;;;wBACH,wBACC,qKAAC;sCAAE;;;;;mCACD,sBACF,qKAAC;4BAAE,WAAU;sCAAS;;;;;iDAEtB,qKAAC,0HAAQ;4BACP,OAAO;4BACP,UAAU;4BACV,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAOzB","debugId":null}}]
}